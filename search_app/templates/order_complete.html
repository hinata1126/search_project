{% extends 'includes/base.html' %}
{% block title %}商品一覧{% endblock %}

{% block content %}
<body>
    <div class="container mt-5">
        <!-- ヘッダー部分 -->
        <div class="text-center mb-4">
            <h1 class="display-4">注文が完了しました</h1>
            <p class="lead">ご注文いただきありがとうございます。</p>
        </div>

        <!-- 注文情報 -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h4>注文詳細</h4>
            </div>
            <div class="card-body">
                <p><strong>注文番号:</strong> {{ order.id }}</p>
                <p><strong>合計金額:</strong> {{ order.total_price|floatformat:0 }}円</p>
            </div>
        </div>

        <!-- 注文内容リスト -->
        <div class="card">
            <div class="card-header bg-secondary text-white">
                <h5>注文内容</h5>
            </div>
            <div class="card-body">
                <ul class="list-group">
                    {% for item in order.orderitem_set.all %}
                    <li class="list-group-item">
                        <div class="d-flex justify-content-between">
                            <span>{{ item.product.name }}</span>
                            <span>{{ item.quantity }}個 ({{ item.product.price|floatformat:0 }}円/個)</span>
                        </div>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <!-- ボタンで商品一覧に戻る -->
        <div class="text-center mt-4">
            <a href="{% url 'search_view' %}" class="btn btn-primary btn-lg">商品一覧に戻る</a>
            <a href="{% url 'order_history' %}" class="btn btn-primary btn-lg">注文履歴を見る</a>

        </div>
    </div>
{% endblock %}

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
